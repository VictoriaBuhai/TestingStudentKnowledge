@using static TSKApp.Enums.Helpers
@using TSKApp.PL.Models
@model QuestionViewModel

<div style="margin-top: 120px">
    <div class="d-flex justify-content-around">
        <form asp-controller="Test" asp-action="TestPassingAct" method="post">
            <div>
                <h3>@ViewBag.TestTitle.</h3>
                <div class="d-flex justify-content-between" style="margin-top: 15px;">
                    @{ int counter = 1; }
                    @foreach (var question in ViewBag.Questions)
                    {
                        <a href="#">@counter</a>
                        counter++;
                    }
                </div>
                <div style="margin-top: 20px">
                    <a href="#">Finish attempt</a>
                </div>
            </div>
            <div style="width: 500px;">
                <div>
                    <div class="d-flex justify-content-between">
                        <h5>Question @ViewBag.CurrentQuestion</h5><span>Marked out of 1.00</span>
                    </div>
                </div>
                <div style="margin-top: 7px; background-color: #7035de; border-radius: 20px; color: white; height: 200px;">
                    <div class="d-flex" style="margin-left: 45px;">
                        <div style="margin-top: 20px;">
                            <h4>@Model.Name</h4>
                            <input type="hidden" name="testId" value=@ViewBag.testId />
                            <input type="hidden" name="questionId" value=@Model.Id />
                            <input type="hidden" name="questionIndex" value=@ViewBag.QuestionIndex />
                            <input type="hidden" name="totalMarks" value=@ViewBag.TotalMarks />
                            <!--For saving previous questions result-->
                            @*@if (((List<CorrectAnswerEditModel>)ViewBag.PreviousQuestionsResult) != null)
                            {
                                @foreach (var prev in ((List<CorrectAnswerEditModel>)ViewBag.PreviousQuestionsResult))
                                {
                                    <input type="hidden" name="rememberPreviousQuestionResult" value=@prev />
                                }
                            }*@
                            
                            <div style="margin-top: 20px;">
                                @foreach (var answer in Model.AnswerViewModels)
                                {
                                    <input type="radio" name="answerId" value=@answer.Id style="margin-top: 7px;" />
                                    <p style="margin-left: 20px;">@answer.Name</p>
                                }
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-row-reverse" style="margin-top: 20px">
                    <button class="btn btn-primary" type="submit" name="actionType" value=@TestPassingActions.NextQuestion style="font-size: 17px;">Next question ></button>
                </div>
            </div>
        </form>
        <div />
    </div>
</div>
